!function(t){function e(e){for(var o,r,a=e[0],l=e[1],c=e[2],h=0,u=[];h<a.length;h++)r=a[h],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&u.push(n[r][0]),n[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);for(p&&p(e);u.length;)u.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],o=!0,a=1;a<i.length;a++){var l=i[a];0!==n[l]&&(o=!1)}o&&(s.splice(e--,1),t=r(r.s=i[0]))}return t}var o={},n={0:0},s=[];function r(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=o,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(i,o,function(e){return t[e]}.bind(null,o));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var a=window.webpackJsonp=window.webpackJsonp||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var c=0;c<a.length;c++)e(a[c]);var p=l;s.push([537,1]),i()}({1458:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1459),n=i(1460),s=i(1462);e.default=[o.BootScene,n.MainMenuScene,s.GameScene]},1459:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s={active:!1,visible:!1,key:"Boot"},r=function(t){function e(){var e=t.call(this,s)||this;return e.getGameWidth=function(){return e.game.scale.width},e.getGameHeight=function(){return e.game.scale.height},e}return n(e,t),e.prototype.preload=function(){var t=this,e=.5*this.getGameWidth(),i=.5*this.getGameHeight(),o=this.add.rectangle(e,i,400,100,0),n=this.add.rectangle(e+20-.5*o.width,i,10,80,8947848),s=this.add.text(e-75,i-100,"Loading...").setFontSize(24),r=this.add.text(e-25,i,"0%").setFontSize(24),a=this.add.text(e-25,i+100,"").setFontSize(24);this.load.on("progress",(function(t){n.width=370*t;var e=100*t;r.setText(e+"%")})),this.load.on("fileprogress",(function(t){a.setText(t.key)})),this.load.on("complete",(function(){s.destroy(),r.destroy(),a.destroy(),n.destroy(),o.destroy(),t.scene.start("Game",{level:1})})),this.loadAssets()},e.prototype.loadAssets=function(){this.textures.generate("bullet",{data:["6666","6556","6556","6556","6666"],pixelWidth:1}),this.add.image(150,300,"bullet").setOrigin(0,1),this.load.audioSprite("sfx","assets/sounds/fx_mixdown.json",["assets/sounds/fx_mixdown.ogg","assets/sounds/fx_mixdown.mp3"]),this.load.image("sky","assets/sky.png"),this.load.image("ground","assets/platform.png"),this.load.image("star","assets/star.png"),this.load.image("bomb","assets/bomb.png"),this.load.image("item","assets/item.png"),this.load.bitmapFont("arcadeFont","assets/fonts/arcade.png","assets/fonts/arcade.xml"),this.load.atlas("items","assets/bonus.png","assets/bonus.json"),this.load.spritesheet("dude","assets/dude.png",{frameWidth:32,frameHeight:48}),this.load.spritesheet("ball","assets/balls.png",{frameWidth:48,frameHeight:48}),this.load.spritesheet("robot","assets/robot.png",{frameWidth:16,frameHeight:32}),this.load.spritesheet("explosion","assets/explosion.png",{frameWidth:130,frameHeight:130})},e}(Phaser.Scene);e.BootScene=r},1460:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(1461),r={active:!1,visible:!1,key:"MainMenu"},a=function(t){function e(){return t.call(this,r)||this}return n(e,t),e.prototype.create=function(){var t=this;this.add.text(100,50,"Sample",{color:"#ffffff"}).setFontSize(24),new s.MenuButton(this,100,150,"Start Game",(function(){return t.scene.start("Game")})),new s.MenuButton(this,100,150,"Start Game",(function(){return t.scene.start("Game")})),new s.MenuButton(this,100,200,"Settings",(function(){return alert("Settings clicked")})),new s.MenuButton(this,100,250,"Help",(function(){return alert("Help clicked")}))},e}(Phaser.Scene);e.MainMenuScene=a},1461:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s={color:"#FFFFFF"},r={color:"#7CFC00"},a={color:"#000000"},l=function(t){function e(e,i,o,n,r){var a=t.call(this,e,i,o,n,s)||this;return e.add.existing(a),a.setInteractive({useHandCursor:!0}).on("pointerover",a.enterMenuButtonHoverState).on("pointerout",a.enterMenuButtonRestState).on("pointerdown",a.enterMenuButtonActiveState).on("pointerup",a.enterMenuButtonHoverState),r&&a.on("pointerup",r),a}return n(e,t),e.prototype.enterMenuButtonHoverState=function(){this.setStyle(r)},e.prototype.enterMenuButtonRestState=function(){this.setStyle(s)},e.prototype.enterMenuButtonActiveState=function(){this.setStyle(a)},e}(Phaser.GameObjects.Text);e.MenuButton=l},1462:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),s=this&&this.__assign||function(){return(s=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)},r=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var o=Array(t),n=0;for(e=0;e<i;e++)for(var s=arguments[e],r=0,a=s.length;r<a;r++,n++)o[n]=s[r];return o};Object.defineProperty(e,"__esModule",{value:!0});var a=i(158),l=i(1463),c=i(1464),p=i(1465),h=i(1466),u=i(1467),d=i(1468),y=i(156),_=i(1470),f=i(157),m=i(98),E=i(1471),b=a.Input.Keyboard.KeyCodes,T=b.W,v=b.S,O=b.A,L=b.D,I=b.SPACE,A={active:!1,visible:!1,key:"Game"},g=function(t){function e(){var e=t.call(this,A)||this;return e.playerPos=120,e.inactive=!1,e}return n(e,t),e.prototype.init=function(t){var e=t.level,i=t.score,o=void 0===i?0:i;this.levelData=E.LEVELS[e-1],console.log("Level",e),this.scoring=new h.Scoring(this,o,this.levelData.ammoCount,e)},e.prototype.createAnimations=function(){this.anims.create({key:"ballspin",frames:this.anims.generateFrameNumbers("ball",{start:0,end:7}),frameRate:8,repeat:-1}),this.anims.create({key:"robotfly",frames:this.anims.generateFrameNumbers("robot",{start:0,end:1}),frameRate:2,repeat:-1}),this.anims.create({key:"robothit",frames:this.anims.generateFrameNumbers("robot",{start:2,end:3}),frameRate:6,repeat:1}),this.anims.create({key:"left",frames:this.anims.generateFrameNumbers("dude",{start:0,end:3}),frameRate:10,repeat:-1}),this.anims.create({key:"turn",frames:[{key:"dude",frame:4}],frameRate:20}),this.anims.create({key:"right",frames:this.anims.generateFrameNumbers("dude",{start:5,end:8}),frameRate:10,repeat:-1}),this.anims.create({key:"robotexplosion",frames:this.anims.generateFrameNumbers("explosion",{start:0,end:36}),frameRate:36})},e.prototype.create=function(){var t=this;this.cameras.main.setBackgroundColor("#000000"),this.explosions=new _.default(this),this.createAnimations(),this.playerPos=this.levelData.initialPlayerPosition||this.cameras.main.width/2,this.platforms=this.physics.add.staticGroup(),this.platforms.create(400,568,"ground").setScale(2).refreshBody(),this.balls=new u.Balls(this,r(this.levelData.balls)),this.physics.add.collider(this.balls,this.platforms),this.player=new d.Player(this,this.playerPos,m.PLAYER_INITIAL_POSITION_Y),this.bullets=new p.Bullets(this),this.physics.add.collider(this.player,this.platforms),this.playerBallCollider=this.physics.add.collider(this.player,this.balls,this.playerKilled,null,this),this.items=new c.Items(this,this.player,this.explosions).collideWith(this.platforms).setItemProbabilityMap(s({},this.levelData.itemAvailability)),this.items.on(y.ITEM_COLLECTED,this.collectItem.bind(this)),this.items.on(y.ITEM_EXPLODE_ONTO_PLAYER,this.playerKilled.bind(this)),this.balls.explodeWhenHitWith(this.bullets).dropOneOfItemRandomly(this.items).on(y.ALL_BALLS_CLEARED,(function(){return t.nextLevel()})),this.robotsRef=new l.Robots(this,this.player,this.explosions).explodeWhenTouched(this.platforms).damage(this.bullets).begin(this.levelData.robotAvailability),this.robotsRef.on(y.ROBOT_EXPLODE_ONTO_PLAYER,this.playerKilled.bind(this)),this.robotsRef.on(y.ROBOT_KILL,this.whenRobotKilled.bind(this)),this.robotsRef.on(y.ROBOT_BULLET_HIT,this.whenRobotBulletHit.bind(this)),this.scoring.render(),this.cursors=this.input.keyboard.addKeys({up:T,down:v,left:O,right:L,space:I}),this.input.on("pointerdown",(function(){t.doFireNow()}))},e.prototype.nextLevel=function(){var t=this;this.physics.pause(),this.time.addEvent({delay:2500,callback:function(){return t.scene.restart({level:t.scoring.level+1,score:t.scoring.score})}})},e.prototype.whenRobotBulletHit=function(t){t.getData("straight")||(this.scoring.updatePointsBy(m.POINTS_ROBOT_HIT_WHILE_ADJUSTING),this.createFloatingText(t.body.position.x,t.body.position.y,""+m.POINTS_ROBOT_HIT_WHILE_ADJUSTING))},e.prototype.createFloatingText=function(t,e,i,o){void 0===o&&(o=10);var n=this.add.bitmapText(t,e,"arcadeFont",i,o).setTint(16777215);this.add.tween({targets:n,duration:750,ease:"Exponential.In",y:e-10,onComplete:function(){n.destroy()},callbackScope:this})},e.prototype.whenRobotKilled=function(t){this.scoring.updatePointsBy(m.POINTS_ROBOT_KILL),this.createFloatingText(t.body.position.x,t.body.position.y,""+m.POINTS_ROBOT_KILL)},e.prototype.resetGame=function(){this.scoring.updateLivesBy(-1),this.scoring.hasLives()&&(this.scene.restart(),this.inactive=!1)},e.prototype.collectItem=function(t,e){var i=t.getData("type"),o=t.getData("def");this.sound.playAudioSprite("sfx","ping");var n=this.player.body.touching.down?1:m.POINTS_MULTIPLIER_FACTOR_WHEN_JUMPING,s=o.points*n;switch(this.createFloatingText(t.body.x,t.body.y,""+s),console.log(o),i){case f.ItemType.BULLET_SPEED:this.bullets.increaseShootingSpeed();break;case f.ItemType.DAMAGE_ALL:this.robotsRef.doDamageAll(2),this.balls.explodeAll();break;case f.ItemType.ONE_UP:this.scoring.updateLivesBy(1);break;case f.ItemType.BULLET_DAMAGE:this.bullets.increaseBulletPower();break;case f.ItemType.INVINCIBLE:this.player.makeInvincibleFor([this.playerBallCollider]);break;case f.ItemType.RUN_SPEED:this.player.increaseRunSpeed()}this.scoring.updatePointsBy(s)},e.prototype.playerKilled=function(t){var e=this;t.invincible||(this.sound.playAudioSprite("sfx","death"),this.physics.pause(),this.inactive=!0,t.setTint(16711680),t.anims.play("turn"),this.time.delayedCall(3e3,(function(){return e.resetGame()}),[this],null))},e.prototype.doFireNow=function(){if(this.scoring.hasAmmos()){var t=this.player.body.position,e=t.x,i=t.y;this.bullets.fire(e+this.player.body.width/2,i,this.player.body.touching.down)&&this.scoring.updateAmmosBy(-1)}},e.prototype.update=function(t,e){this.inactive||(this.robotsRef.update(t,e,this.cursors),this.cursors.left.isDown?(this.player.setVelocityX(-1*this.player.runningSpeed),this.player.anims.play("left",!0)):this.cursors.right.isDown?(this.player.setVelocityX(this.player.runningSpeed),this.player.anims.play("right",!0)):this.cursors.left.isUp&&this.cursors.right.isUp&&(this.player.setVelocityX(0),this.player.anims.play("turn")),this.cursors.up.isDown&&this.player.body.touching.down&&this.player.setVelocityY(m.PLAYER_JUMP_VELOCITY),this.cursors.space.isDown&&this.doFireNow())},e}(Phaser.Scene);e.GameScene=g},1463:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(261),r=i(156),a=i(98),l=function(t){function e(e,i,o){var n=t.call(this)||this;return n.scene=e,n.player=i,n.explosions=o,n.robots=e.physics.add.group({allowGravity:!1,collideWorldBounds:!0}),n.scene.physics.add.overlap(n.player,n.explosions,(function(t,e){n.emit(r.ROBOT_EXPLODE_ONTO_PLAYER,t,e)}),null,n),n}return n(e,t),e.prototype.scheduleRobotGeneration=function(){if(null!==this.robotTimeEvent){var t=2e3,e=5e3;this.robotGeneration&&this.robotGeneration.intervalRange&&this.robotGeneration.intervalRange.length>=2&&(t=this.robotGeneration.intervalRange[0],e=this.robotGeneration.intervalRange[1]);var i=this.robots.countActive(!0),o=Phaser.Math.Between(t,e);if(console.log(this.robotGeneration.nextSpawnOnlyAfterKill,i,o),this.robotGeneration.nextSpawnOnlyAfterKill&&i>0)return void console.log("Return");this.robotTimeEvent=this.robotTimeEvent.reset({delay:o,callback:this.generateRobot,callbackScope:this,repeat:1})}},e.prototype.generateRobot=function(t){void 0===t&&(t=!1),console.log("GENERATE ROBOT");var e=this.robots.create(Phaser.Math.Between(a.ROBOT_GENERATION_MIN_X,a.ROBOT_GENERATION_MAX_X),0,"robot");return e.anims.play("robotfly"),e.setData("health",a.ROBOT_DEFAULT_HEALTH),e.setData("speed",a.ROBOT_DEFAULT_SPEED),e.setData("straight",this.player.body.position.x===e.x),t&&this.scheduleRobotGeneration(),e},e.prototype.reduceHealthOrKill=function(t,e){void 0===e&&(e=1);var i=t.getData("health");i-=e,a.ROBOT_HALT_WHEN_HIT&&t.setData("speed",0),this.scene.sound.playAudioSprite("sfx","squit"),t.anims.play("robothit"),t.once("animationcomplete",(function(){t.anims.play("robotfly"),t.setData("speed",a.ROBOT_DEFAULT_SPEED)})),i<=0&&(this.scene.sound.playAudioSprite("sfx","boss hit"),this.emit(r.ROBOT_KILL,t),t.disableBody(!0,!0),this.scheduleRobotGeneration()),t.setData("health",i)},e.prototype.doDamageAll=function(t){var e=this;void 0===t&&(t=1),0!==this.robots.countActive(!0)&&Phaser.Actions.Call(this.robots.getChildren(),(function(i){e.reduceHealthOrKill(i,t)}),this.scene)},e.prototype.damage=function(t){var e=this;return this.scene.physics.add.overlap(this.robots,t,(function(t,i){var o=i.getData("damage")||1;e.reduceHealthOrKill(t,o),i.disableBody(!0,!0),e.emit(r.ROBOT_BULLET_HIT,t,i)})),this},e.prototype.explodeWhenTouched=function(t){var e=this;return this.scene.physics.add.collider(this.robots,t,(function(t){t.disableBody(!0,!0),e.explosions.createExplosion(t.x,t.y)})),this},e.prototype.begin=function(t){return this.robotGeneration=t,t?(this.robotTimeEvent=this.scene.time.addEvent({delay:t.initialRobotDelay,callback:this.generateRobot,callbackScope:this,args:[t.nextSpawnOnlyAfterKill]}),this):this},e.prototype.destroy=function(){this.robotTimeEvent&&this.robotTimeEvent.destroy()},e.prototype.update=function(t,e,i){var o=this;0!==this.robots.countActive(!0)&&Phaser.Actions.Call(this.robots.getChildren(),(function(t){var n=t.getData("speed");if(!1===t.getData("straight")){var s=o.player.body.position.x,r=o.player.body.width,a=s+r/2>t.x?1:-1;t.x+=n*e*a,!i.left.isDown&&!i.right.isDown&&t.x>s+.3*r&&t.x<=s+.6*r&&t.setData("straight",!0)}t.y+=n*e}),this.scene)},e}(s.EventEmitter);e.Robots=l},1464:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(261),r=i(156),a=i(157),l=i(98);var c=function(t){function e(e,i,o){var n=t.call(this)||this;return n.scene=e,n.player=i,n.explosions=o,n.items=e.physics.add.group({allowGravity:!1,collideWorldBounds:!0}),n.scene.physics.add.overlap(n.player,n.items,n.collectItem,n.checkCollectible,n),n.scene.physics.add.overlap(n.player,n.explosions,n.explodeItemOnPlayer,null,n),n}return n(e,t),e.prototype.setItemProbabilityMap=function(t){var e=0,i=new Array(100);return Object.keys(t).forEach((function(o){for(var n=100*t[o],s=e;s<e+n;s++)i[s]=parseInt(o);e+=n})),function(t){for(var e,i=t.length-1;i>0;i--){var o=Math.floor(Math.random()*(i+1));e=[t[o],t[i]],t[i]=e[0],t[o]=e[1]}}(i),this.distributionArray=i,this},e.prototype.explodeItemOnPlayer=function(t,e){this.emit(r.ITEM_EXPLODE_ONTO_PLAYER,t,e)},e.prototype.getItemDef=function(t){var e=t.getData("type");return l.ITEM_DEFS[e]},e.prototype.checkCollectible=function(t,e){return this.getItemDef(e).collectible},e.prototype.collectItem=function(t,e){e.disableBody(!0,!0),this.emit(r.ITEM_COLLECTED,e,t)},e.prototype.dropItem=function(t,e,i){var o=l.ITEM_DEFS[t];if(o&&t!==a.ItemType.NOTHING){var n=this.items.create(e,i,"items",o.sprite);n.setVelocityY(l.POWER_ITEM_FALLING_SPEED),n.setData("type",t).setData("points",o.points).setData("def",o)}},e.prototype.generateItem=function(t,e){for(var i=this.distributionArray[Phaser.Math.Between(0,this.distributionArray.length-1)];i===a.ItemType.NOTHING;)i=this.distributionArray[Phaser.Math.Between(0,this.distributionArray.length-1)];this.dropItem(i,t,e)},e.prototype.generateRandomItem=function(t,e){var i=this.distributionArray[Phaser.Math.Between(0,this.distributionArray.length-1)];this.dropItem(i,t,e)},e.prototype.collideWith=function(t){var e=this;return this.scene.physics.add.collider(this.items,t,(function(t){var i=e.getItemDef(t);e.scene.time.delayedCall(i.aliveTime,(function(t){t.disableBody(!0,!0),i.explosive&&e.explosions.createExplosion(t.x,t.y)}),[t],e)}),null,this),this},e}(s.EventEmitter);e.Items=c},1465:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(98),r=function(t){function e(e){var i=t.call(this,e.physics.world,e,{allowGravity:!1})||this;return i.bulletPower=s.BULLET_DEFAULT_DAMAGE_POWER,i.lastFireTime=0,i.shootingSpeed=s.BULLETS_DEFAULT_SHOOTING_SPEED,i}return n(e,t),e.prototype.increaseBulletPower=function(t){var e=this;void 0===t&&(t=s.POWER_ITEM_DEFAULT_ACTIVE_TIME),this.bulletPower+=s.BULLET_DAMAGE_POWER_INCREMENT,this.scene.time.delayedCall(t,(function(){e.bulletPower=s.BULLET_DEFAULT_DAMAGE_POWER}),[this],this)},e.prototype.increaseShootingSpeed=function(t){var e=this;void 0===t&&(t=s.POWER_ITEM_DEFAULT_ACTIVE_TIME),this.shootingSpeed+=s.BULLETS_SHOOTING_SPEED_INCREMENT,this.shootingSpeed=Math.min(this.shootingSpeed,s.BULLETS_MAX_SHOOTING_SPEED),this.prevTimer&&!this.prevTimer.hasDispatched&&this.prevTimer.remove(),this.prevTimer=this.scene.time.delayedCall(t,(function(){e.shootingSpeed=s.BULLETS_DEFAULT_SHOOTING_SPEED,e.prevTimer=null}),[this],this)},e.prototype.fire=function(t,e,i){void 0===i&&(i=!1);var o=this.scene.time.now;if(this.lastFireTime<o-(1-this.shootingSpeed)*s.BULLETS_TIME_INTERVAL){var n=this.create(t,e,"bullet");return this.scene.sound.playAudioSprite("sfx","shot"),n.setData("damage",this.bulletPower),n.setData("air_bullet",i),n.setVelocityY(s.BULLET_UPWARD_SPEED),this.lastFireTime=o,!0}return!1},e}(Phaser.Physics.Arcade.Group);e.Bullets=r},1466:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e,i,o){void 0===e&&(e=0),void 0===i&&(i=50),void 0===o&&(o=1),this.scene=t,this.score=e,this.ammos=i,this.level=o,this.lives=3,this.initialScore=e}return t.prototype.render=function(){this.scoreText=this.scene.add.text(16,this.scene.cameras.main.height-48,"",{fontSize:"24px",fill:"#000000"}),this.updateView()},t.prototype.reset=function(){this.score=this.initialScore,this.updateView()},t.prototype.updateView=function(){this.scoreText.setText("Score: "+this.score+", Lives: "+this.lives+", Ammo: "+this.ammos+", Level: "+this.level)},t.prototype.updateAmmosBy=function(t){void 0===t&&(t=-1),this.ammos+=t,this.updateView()},t.prototype.updatePointsBy=function(t){void 0===t&&(t=0),this.score+=t,this.updateView()},t.prototype.updateLivesBy=function(t){void 0===t&&(t=0),this.lives+=t,this.updateView()},t.prototype.hasAmmos=function(){return this.ammos>0},t.prototype.hasLives=function(){return this.lives>0},t}();e.Scoring=o},1467:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(261),r=i(156),a=i(98),l=function(t){function e(e,i){void 0===i&&(i=[]);var o=t.call(this,e.physics.world,e,{collideWorldBounds:!0})||this;o.emitter=new s.EventEmitter;for(var n=0;n<i.length;n++){var r=i[n],a=o.createBall(r.x,r.y,r.size);a.body.setCircle(a.body.width/2),a.setVelocity(r.initVelocityX,r.initVelocityY)}return o}return n(e,t),e.prototype.createBall=function(t,e,i){var o=this.create(t,e,"ball");o.play("ballspin"),o.setScale(.3*i),o.setBounce(1,a.BALL_BOUNCE_LOSS),o.setMass(a.BALL_MASS),o.setData("size",i);var n=o.body.width;return o.setCircle(n/2),o},e.prototype.explodeWhenHitWith=function(t){return this.scene.physics.add.overlap(t,this,this.hitBullet,null,this),this},e.prototype.dropOneOfItemRandomly=function(t){return this.items=t,this},e.prototype.explodeSingle=function(t){var e=t.getData("size");e>1&&(this.scene.sound.playAudioSprite("sfx","alien_death"),this.createBall(t.body.position.x+t.body.width/2,t.body.position.y,e-1).setVelocity(-1*a.BALL_DEFAULT_VELOCITY_X,-1*a.BALL_DEFAULT_VELOCITY_Y),this.createBall(t.body.position.x+t.body.width/2,t.body.position.y,e-1).setVelocity(a.BALL_DEFAULT_VELOCITY_X,-1*a.BALL_DEFAULT_VELOCITY_Y))},e.prototype.explodeUntilSmallest=function(t){if(t.active){var e=t.getData("size");if(e>1){for(var i=e-1,o=0;o<i;o++){this.createBall(t.body.position.x+t.body.width/2,t.body.position.y,1).setVelocity(-1*a.BALL_DEFAULT_VELOCITY_X,-1*a.BALL_DEFAULT_VELOCITY_Y),this.createBall(t.body.position.x+t.body.width/2,t.body.position.y,1).setVelocity(a.BALL_DEFAULT_VELOCITY_X,-1*a.BALL_DEFAULT_VELOCITY_Y)}t.disableBody(!0,!0)}}},e.prototype.hitBullet=function(t,e){e.disableBody(!0,!0),t.disableBody(!0,!0);var i=t.getData("air_bullet")||!1,o=e.body.x+e.body.width/2,n=e.body.y+e.body.height;i?this.items.generateItem(o,n):this.items.generateRandomItem(o,n),this.explodeSingle(e),0===this.countActive(!0)&&this.emitter.emit(r.ALL_BALLS_CLEARED)},e.prototype.explodeAll=function(){var t=this;Phaser.Actions.Call(this.getChildren(),(function(e){t.explodeUntilSmallest(e)}),this)},e.prototype.on=function(t,e){this.emitter.on(t,e)},e}(Phaser.Physics.Arcade.Group);e.Balls=l},1468:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=i(98),r=i(1469),a=function(t){function e(e,i,o){var n=t.call(this,e,i,o,"dude")||this;return n.runningSpeed=s.PLAYER_DEFAULT_RUN_SPEED,n.invincible=!1,n.invincibleTimer=new r.default(e),n.speedingTimer=new r.default(e),e.add.existing(n),e.physics.add.existing(n),n.setSize(16,40).setOffset(8,8).setBounce(0).setCollideWorldBounds(!0).setGravityY(s.PLAYER_GRAVITY),n}return n(e,t),e.prototype.clearInvincibility=function(t){t.forEach((function(t){return t.active=!0})),this.invincible=!1,this.setAlpha(1)},e.prototype.makeInvincibleFor=function(t,e){void 0===e&&(e=s.POWER_ITEM_DEFAULT_ACTIVE_TIME),t.forEach((function(t){return t.active=!1})),this.invincible=!0,this.setAlpha(.4),this.invincibleTimer.expandTo({delay:e,callback:this.clearInvincibility,args:[t],callbackScope:this})},e.prototype.clearRunningSpeed=function(){this.runningSpeed=Math.max(s.PLAYER_DEFAULT_RUN_SPEED,this.runningSpeed-s.PLAYER_RUN_SPEED_INCREMENT)},e.prototype.increaseRunSpeed=function(t){void 0===t&&(t=s.POWER_ITEM_DEFAULT_ACTIVE_TIME),this.runningSpeed+=s.PLAYER_RUN_SPEED_INCREMENT,this.speedingTimer.expandTo({delay:t,callbackScope:this,callback:this.clearRunningSpeed,args:[]})},e}(Phaser.Physics.Arcade.Sprite);e.Player=a},1469:function(t,e,i){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,i=1,o=arguments.length;i<o;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.scene=t}return t.prototype.expandTo=function(t){this.timeEvent?this.timeEvent=this.timeEvent.reset(o(o({},t),{repeat:1})):this.timeEvent=this.scene.time.addEvent(o({},t))},t}();e.default=n},1470:function(t,e,i){"use strict";var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)});Object.defineProperty(e,"__esModule",{value:!0});var s=function(t){function e(e){return t.call(this,e.physics.world,e,{collideWorldBounds:!0,allowGravity:!1})||this}return n(e,t),e.prototype.createExplosion=function(t,e,i){void 0===i&&(i=80);var o=this.create(t,e,"explosion");o.anims.play("robotexplosion"),o.setSize(i,i),this.scene.time.delayedCall(1e3,(function(t){t.disableBody(!0,!0)}),[o],this)},e}(Phaser.Physics.Arcade.Group);e.default=s},1471:function(t,e,i){"use strict";var o,n;Object.defineProperty(e,"__esModule",{value:!0});var s=i(157);e.LEVELS=[{id:1,ammoCount:20,initialPlayerPosition:300,balls:[{id:1,x:50,y:300,size:2,initVelocityX:120,initVelocityY:275}],itemAvailability:(o={},o[s.ItemType.NOTHING]=.3,o[s.ItemType.BONUS_POINTS]=.1,o[s.ItemType.BOMB]=.2,o[s.ItemType.INVINCIBLE]=.05,o[s.ItemType.ONE_UP]=.05,o[s.ItemType.RUN_SPEED]=.3,o)},{id:2,ammoCount:20,initialPlayerPosition:400,balls:[{id:1,x:50,y:300,size:3,initVelocityX:120,initVelocityY:275},{id:1,x:550,y:300,size:3,initVelocityX:120,initVelocityY:275}],itemAvailability:(n={},n[s.ItemType.NOTHING]=.3,n[s.ItemType.BONUS_POINTS]=.1,n[s.ItemType.BOMB]=.2,n[s.ItemType.INVINCIBLE]=.05,n[s.ItemType.ONE_UP]=.05,n[s.ItemType.RUN_SPEED]=.3,n),robotAvailability:{initialRobotDelay:2e3,intervalRange:[2e3,5e3]}}]},156:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ALL_BALLS_CLEARED="allballscleared",e.ROBOT_KILL="robotkill",e.ROBOT_EXPLODE_ONTO_PLAYER="explodewithplayer",e.ITEM_EXPLODE_ONTO_PLAYER="explodeitemwithplayer",e.ITEM_COLLECTED="collectitem",e.ROBOT_BULLET_HIT="bullethit"},157:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.ONE_UP=1]="ONE_UP",t[t.BULLET_DAMAGE=2]="BULLET_DAMAGE",t[t.BULLET_SPEED=3]="BULLET_SPEED",t[t.BONUS_POINTS=4]="BONUS_POINTS",t[t.INVINCIBLE=5]="INVINCIBLE",t[t.DAMAGE_ALL=6]="DAMAGE_ALL",t[t.RUN_SPEED=7]="RUN_SPEED",t[t.BOMB=8]="BOMB",t[t.NOTHING=9]="NOTHING"}(e.ItemType||(e.ItemType={}))},537:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(158),n=i(1458),s={title:"SWW",type:o.AUTO,width:800,height:600,scene:n.default,physics:{default:"arcade",arcade:{gravity:{y:300},debug:!1}},parent:"game",backgroundColor:"#000000"};e.game=new o.Game(s),window.addEventListener("resize",(function(){e.game.scale.resize(window.innerWidth,window.innerHeight)}))},98:function(t,e,i){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0});var n=i(157);e.PLAYER_INITIAL_POSITION_Y=450,e.PLAYER_GRAVITY=650,e.PLAYER_DEFAULT_RUN_SPEED=220,e.PLAYER_RUN_SPEED_INCREMENT=200,e.PLAYER_JUMP_VELOCITY=-400,e.BALL_BOUNCE_LOSS=.985,e.BALL_MASS=100,e.BALL_DEFAULT_VELOCITY_Y=120,e.BALL_DEFAULT_VELOCITY_X=120,e.BULLETS_DEFAULT_SHOOTING_SPEED=.2,e.BULLETS_SHOOTING_SPEED_INCREMENT=.2,e.BULLETS_MAX_SHOOTING_SPEED=.8,e.BULLETS_TIME_INTERVAL=500,e.BULLET_UPWARD_SPEED=-700,e.BULLET_DEFAULT_DAMAGE_POWER=1,e.BULLET_DAMAGE_POWER_INCREMENT=1,e.ROBOT_GENERATION_MIN_X=50,e.ROBOT_GENERATION_MAX_X=700,e.ROBOT_DEFAULT_HEALTH=3,e.ROBOT_DEFAULT_SPEED=Phaser.Math.GetSpeed(600,6),e.ROBOT_HALT_WHEN_HIT=!0,e.POINTS_ROBOT_HIT_WHILE_ADJUSTING=500,e.POINTS_ROBOT_KILL=200,e.POINTS_MULTIPLIER_FACTOR_WHEN_JUMPING=2,e.POWER_ITEM_DEFAULT_ACTIVE_TIME=8e3,e.POWER_ITEM_FALLING_SPEED=120,e.ITEM_DEFS=((o={})[n.ItemType.ONE_UP]={name:"One up",sprite:"item_oneup",points:10,collectible:!0,aliveTime:4e3},o[n.ItemType.BULLET_DAMAGE]={name:"Bullet Damage",sprite:"item_bulletdamage",points:10,collectible:!0,aliveTime:4e3},o[n.ItemType.BULLET_SPEED]={name:"Bullet Speed",sprite:"item_bulletspeed",points:10,collectible:!0,aliveTime:4e3},o[n.ItemType.BONUS_POINTS]={name:"One up",sprite:"item_bonuspoints",points:250,collectible:!0,aliveTime:4e3},o[n.ItemType.DAMAGE_ALL]={name:"Damage All",sprite:"item_damageall",points:100,collectible:!0,aliveTime:4e3},o[n.ItemType.INVINCIBLE]={name:"Invincible",sprite:"item_invincible",points:50,collectible:!0,aliveTime:4e3},o[n.ItemType.RUN_SPEED]={name:"Run Speed",sprite:"item_runspeed",points:10,collectible:!0,aliveTime:4e3},o[n.ItemType.BOMB]={name:"Bomb",sprite:"item_bomb",points:0,collectible:!1,aliveTime:1e3,explosive:!0},o[n.ItemType.NOTHING]={sprite:"item_none",name:"none",points:0,collectible:!1,aliveTime:0},o)}});